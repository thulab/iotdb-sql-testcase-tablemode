-- [1]3:set sql_dialect=tree
STRICT{
PASS
}
-- [1]10:create database root.db
STRICT{
PASS
}
-- [1]11:create aligned timeseries root.db.d2(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]12:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(now(),0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.1.300
-- [1]13:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(now()-1d,1102,31,42,53,46,57,68,79,80,91,1111.11)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]14:create aligned timeseries root.db.对齐d3(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]15:insert into root.db.对齐d3(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(now(),0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.2.48
-- [1]19:CREATE DEVICE TEMPLATE t1(     c0 FLOAT encoding=RLE compression=SNAPPY,     c1 FLOAT encoding=RLE compression=SNAPPY,     c2 blob  compression=SNAPPY,     c3 text  compression=SNAPPY )
STRICT{
PASS
}
-- [1]25:CREATE DEVICE TEMPLATE t2 aligned(     c0 FLOAT encoding=RLE compression=SNAPPY,     c1 FLOAT encoding=RLE compression=SNAPPY,     c2 blob  compression=SNAPPY,     c3 text  compression=SNAPPY )
STRICT{
PASS
}
-- [1]30:set device template t1 to root.db.d3
STRICT{
PASS
}
-- [1]31:set device template t2 to root.db.d4
STRICT{
PASS
}
-- [1]32:create timeseries root.db.d1.s0 double
STRICT{
PASS
}
-- [1]33:create timeseries root.db.d1.s1 double
STRICT{
PASS
}
-- [1]34:create timeseries root.db.d1.s2 double
STRICT{
PASS
}
-- [1]35:create timeseries root.db.d1.s3 double
STRICT{
PASS
}
-- [1]36:create timeseries root.db.d1.s4 double
STRICT{
PASS
}
-- [1]37:create timeseries root.db.d1.s5 double
STRICT{
PASS
}
-- [1]38:create timeseries root.db.d1.s6 double
STRICT{
PASS
}
-- [1]39:create timeseries root.db.d1.s7 double
STRICT{
PASS
}
-- [1]40:create timeseries root.db.d1.s8 double
STRICT{
PASS
}
-- [1]41:create timeseries root.db.d1.s9 double
STRICT{
PASS
}
-- [1]42:create timeseries root.db.d1.s10 double
STRICT{
PASS
}
-- [1]43:insert into root.db.d1(time,s1) values(now(),1)
STRICT{
0
}

Elapsed Time: 0.1.8
-- [1]44:insert into root.db.d1(time,s2) values(now()-1d,2222)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]45:insert into root.db.d1(time,s2) values(now(),2)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]47:insert into root.db.d1(time,s3) values(now(),3)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]49:insert into root.db.d1(time,s4) values(now(),4)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]51:insert into root.db.d1(time,s5) values(now(),5)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]53:insert into root.db.d1(time,s6) values(now(),6)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]55:insert into root.db.d1(time,s7) values(now(),7)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]57:insert into root.db.d1(time,s8) values(now(),8)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]59:insert into root.db.d1(time,s9) values(now(),9)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]61:insert into root.db.d1(time,s10) values(now(),10)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]62:insert into root.db.d3(time,c0,c1,c2,c3) values(now(),0,1,X'd3','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.8
-- [1]63:insert into root.db.d3(time,c0,c1,c2,c3) values(now()-1d,0,1,X'd3','d3 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]64:insert into root.db.d4(time,c0,c1,c2,c3) aligned values(now(),110,2,X'd4','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]65:insert into root.db.d4(time,c0,c1,c2,c3) aligned values(now()-1d,110,2,X'd4','d4 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]66:select count(s0),count(c1) from root.db.**
STRICT{
count(root.db.对齐d3.s0)(INT64)      |count(root.db.d1.s0)(INT64)      |count(root.db.d2.s0)(INT64)      |count(root.db.d4.c1)(INT64)      |count(root.db.d3.c1)(INT64)      |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                                  |0                                |2                                |2                                |2                                |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]67:select count(*) from root.db.** align by device
STRICT{
Device(TEXT)      |count(s3)(INT64)      |count(s4)(INT64)      |count(s5)(INT64)      |count(s10)(INT64)      |count(s6)(INT64)      |count(s7)(INT64)      |count(s8)(INT64)      |count(s9)(INT64)      |count(s0)(INT64)      |count(s1)(INT64)      |count(s2)(INT64)      |count(c3)(INT64)      |count(c0)(INT64)      |count(c1)(INT64)      |count(c2)(INT64)      |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d1        |1                     |1                     |1                     |1                      |1                     |1                     |1                     |1                     |0                     |1                     |2                     |null                  |null                  |null                  |null                  |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d2        |2                     |2                     |2                     |2                      |2                     |2                     |2                     |2                     |2                     |2                     |2                     |null                  |null                  |null                  |null                  |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d3        |null                  |null                  |null                  |null                   |null                  |null                  |null                  |null                  |null                  |null                  |null                  |2                     |2                     |2                     |2                     |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.d4        |null                  |null                  |null                  |null                   |null                  |null                  |null                  |null                  |null                  |null                  |null                  |2                     |2                     |2                     |2                     |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
root.db.对齐d3      |1                     |1                     |1                     |1                      |1                     |1                     |1                     |1                     |1                     |1                     |1                     |null                  |null                  |null                  |null                  |
总数目：5
}

Elapsed Time: 0.0.7

-- [1]68:select count_time(*) from root.db.** align by device
STRICT{
Device(TEXT)      |count_time(*)(INT64)      |
--------------------------------------------
root.db.d1        |11                        |
--------------------------------------------
root.db.d2        |2                         |
--------------------------------------------
root.db.d3        |2                         |
--------------------------------------------
root.db.d4        |2                         |
--------------------------------------------
root.db.对齐d3      |1                         |
总数目：5
}

Elapsed Time: 0.0.6
-- [1]70:set sql_dialect=table
STRICT{
PASS
}
-- [1]72:create database db
STRICT{
PASS
}
-- [1]73:use db
STRICT{
PASS
}
-- [1]75:create or replace view v1() as root.db.**
STRICT{
PASS
}

-- [1]76:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("c3" |
                |TEXT FIELD,"c0" FLOAT |
                |FIELD,"c1" FLOAT FIELD|
                |,"c2" BLOB FIELD) WITH|
                | (ttl='INF') AS root."|
                |db".**                 |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]77:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.8
-- [1]79:create or replace view v1(device_id string tag) as root.db.**
STRICT{
PASS
}

-- [1]80:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s3"|
                | DOUBLE FIELD,"s4" DOU|
                |BLE FIELD,"s5" DOUBLE |
                |FIELD,"s6" DOUBLE FIEL|
                |D,"s7" DOUBLE FIELD,"s|
                |8" DOUBLE FIELD,"s9" D|
                |OUBLE FIELD,"c0" FLOAT|
                | FIELD,"c1" FLOAT FIEL|
                |D,"c2" BLOB FIELD,"c3"|
                | TEXT FIELD,"s10" DOUB|
                |LE FIELD,"s0" DOUBLE F|
                |IELD,"s1" DOUBLE FIELD|
                |,"s2" DOUBLE FIELD) WI|
                |TH (ttl='INF') AS root|
                |."db".**               |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]81:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
18                |
总数目：1
}

Elapsed Time: 0.0.8

-- [1]82:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.4

-- [1]83:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]85:create or replace view v1(time timestamp tag) as root.db.**
STRICT{
SQLSTATE : 701: The time column category shall be bounded with column name 'time'.
}

-- [1]87:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s3"|
                | DOUBLE FIELD,"s4" DOU|
                |BLE FIELD,"s5" DOUBLE |
                |FIELD,"s6" DOUBLE FIEL|
                |D,"s7" DOUBLE FIELD,"s|
                |8" DOUBLE FIELD,"s9" D|
                |OUBLE FIELD,"c0" FLOAT|
                | FIELD,"c1" FLOAT FIEL|
                |D,"c2" BLOB FIELD,"c3"|
                | TEXT FIELD,"s10" DOUB|
                |LE FIELD,"s0" DOUBLE F|
                |IELD,"s1" DOUBLE FIELD|
                |,"s2" DOUBLE FIELD) WI|
                |TH (ttl='INF') AS root|
                |."db".**               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]88:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
18                |
总数目：1
}

Elapsed Time: 0.0.13

-- [1]89:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.8

-- [1]90:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]91:create or replace view v1(time timestamp time) as root.db.**
STRICT{
PASS
}

-- [1]92:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("c3" |
                |TEXT FIELD,"c0" FLOAT |
                |FIELD,"c1" FLOAT FIELD|
                |,"c2" BLOB FIELD) WITH|
                | (ttl='INF') AS root."|
                |db".**                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]93:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]94:show devices from v1
STRICT{

总数目：0
}

Elapsed Time: 0.0.2

-- [1]95:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]97:create or replace view v1(device_id tag) as root.db.**
STRICT{
PASS
}

-- [1]98:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s3"|
                | DOUBLE FIELD,"s4" DOU|
                |BLE FIELD,"s5" DOUBLE |
                |FIELD,"s6" DOUBLE FIEL|
                |D,"s7" DOUBLE FIELD,"s|
                |8" DOUBLE FIELD,"s9" D|
                |OUBLE FIELD,"c0" FLOAT|
                | FIELD,"c1" FLOAT FIEL|
                |D,"c2" BLOB FIELD,"c3"|
                | TEXT FIELD,"s10" DOUB|
                |LE FIELD,"s0" DOUBLE F|
                |IELD,"s1" DOUBLE FIELD|
                |,"s2" DOUBLE FIELD) WI|
                |TH (ttl='INF') AS root|
                |."db".**               |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]99:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
18                |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]100:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.2

-- [1]101:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]103:create or replace view v1(device_id string ATTRIBUTE) as root.db.**
STRICT{
SQLSTATE : 700: line 1:44: mismatched input 'ATTRIBUTE'. Expecting: ')', ','
}

-- [1]105:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s3"|
                | DOUBLE FIELD,"s4" DOU|
                |BLE FIELD,"s5" DOUBLE |
                |FIELD,"s6" DOUBLE FIEL|
                |D,"s7" DOUBLE FIELD,"s|
                |8" DOUBLE FIELD,"s9" D|
                |OUBLE FIELD,"c0" FLOAT|
                | FIELD,"c1" FLOAT FIEL|
                |D,"c2" BLOB FIELD,"c3"|
                | TEXT FIELD,"s10" DOUB|
                |LE FIELD,"s0" DOUBLE F|
                |IELD,"s1" DOUBLE FIELD|
                |,"s2" DOUBLE FIELD) WI|
                |TH (ttl='INF') AS root|
                |."db".**               |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]106:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
18                |
总数目：1
}

Elapsed Time: 0.0.8

-- [1]107:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.3

-- [1]108:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]109:create or replace view v1(device_id ATTRIBUTE) as root.db.**
STRICT{
SQLSTATE : 701: Unknown type: ATTRIBUTE
}

-- [1]111:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s3"|
                | DOUBLE FIELD,"s4" DOU|
                |BLE FIELD,"s5" DOUBLE |
                |FIELD,"s6" DOUBLE FIEL|
                |D,"s7" DOUBLE FIELD,"s|
                |8" DOUBLE FIELD,"s9" D|
                |OUBLE FIELD,"c0" FLOAT|
                | FIELD,"c1" FLOAT FIEL|
                |D,"c2" BLOB FIELD,"c3"|
                | TEXT FIELD,"s10" DOUB|
                |LE FIELD,"s0" DOUBLE F|
                |IELD,"s1" DOUBLE FIELD|
                |,"s2" DOUBLE FIELD) WI|
                |TH (ttl='INF') AS root|
                |."db".**               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]112:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
18                |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]113:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.2

-- [1]114:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]116:create or replace view v1(s10 double field) as root.db.**
STRICT{
PASS
}

-- [1]117:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("s10"|
                | DOUBLE FIELD) WITH (t|
                |tl='INF') AS root."db"|
                |.**                    |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]118:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]119:show devices from v1
STRICT{

总数目：0
}

Elapsed Time: 0.0.3

-- [1]120:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.4
-- [1]122:create or replace view v1(s10 double ) as root.db.**
STRICT{
PASS
}

-- [1]123:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("s10"|
                | DOUBLE FIELD) WITH (t|
                |tl='INF') AS root."db"|
                |.**                    |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]124:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]125:show devices from v1
STRICT{

总数目：0
}

Elapsed Time: 0.0.4

-- [1]126:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.3
-- [1]128:create or replace view v1(device_id tag,s10 double ) as root.db.**
STRICT{
PASS
}

-- [1]129:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]130:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.19

-- [1]131:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.2

-- [1]132:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.3

-- [1]133:select count(*) from v1 where time> now()+10d
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.5
-- [1]134:create or replace view v1(device_id tag ,s10  double field) as root.db.**
STRICT{
PASS
}

-- [1]135:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]136:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]137:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]138:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]139:select count(*) from v1 where time> now()+10d
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.4
-- [1]140:create or replace view v1(device_id string tag ,s10  double field) as root.db.**
STRICT{
PASS
}

-- [1]141:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]142:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]143:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]144:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]145:select count(*) from v1 where time> now()+10d
STRICT{
_col0(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.4
-- [1]147:set sql_dialect=tree
STRICT{
PASS
}
-- [1]148:create timeseries root.db.d5.s10 blob
STRICT{
PASS
}
-- [1]149:set sql_dialect=table
STRICT{
PASS
}
-- [1]150:use db
STRICT{
PASS
}

-- [1]151:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]152:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]153:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]154:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]155:set sql_dialect=tree
STRICT{
PASS
}
-- [1]156:insert into root.db.d5.s10(time,s10)values(10000,X'abcd')
STRICT{
SQLSTATE : 507: TSStatus(code:506, message:Path [root.db.d5.s10] already exist)
}
-- [1]158:insert into root.db.d5(time,s10)values(10000,X'abcd')
STRICT{
0
}

Elapsed Time: 0.0.7

-- [1]160:select * from root.db.d5
STRICT{
Time(TIMESTAMP)      |root.db.d5.s10(BLOB)      |
-----------------------------------------------
10000                |0xabcd                    |
总数目：1
}

Elapsed Time: 0.0.3
-- [1]161:set sql_dialect=table
STRICT{
PASS
}
-- [1]162:use db
STRICT{
PASS
}

-- [1]163:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]164:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]165:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]166:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]168:set sql_dialect=tree
STRICT{
PASS
}
-- [1]169:create timeseries root.db.d6.s10 double
STRICT{
PASS
}
-- [1]170:set sql_dialect=table
STRICT{
PASS
}
-- [1]171:use db
STRICT{
PASS
}

-- [1]172:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]173:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]174:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
d6                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：7
}

Elapsed Time: 0.0.1

-- [1]175:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
7                          |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]176:set sql_dialect=tree
STRICT{
PASS
}
-- [1]177:insert into root.db.d6(time,s10)values(10000,206.4)
STRICT{
0
}

Elapsed Time: 0.0.3
-- [1]178:insert into root.db.d6(time,s10)values(20000,207.4)
STRICT{
0
}

Elapsed Time: 0.0.0

-- [1]180:select * from root.db.d6
STRICT{
Time(TIMESTAMP)      |root.db.d6.s10(DOUBLE)      |
-------------------------------------------------
10000                |206.4                       |
-------------------------------------------------
20000                |207.4                       |
总数目：2
}

Elapsed Time: 0.0.1
-- [1]181:set sql_dialect=table
STRICT{
PASS
}
-- [1]182:use db
STRICT{
PASS
}

-- [1]183:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]184:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
8                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]185:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
d6                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：7
}

Elapsed Time: 0.0.3

-- [1]186:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
7                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]187:select * from v1 where device_id='d6'
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d6                     |206.4            |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d6                     |207.4            |
00+08:00             |                       |                 |
总数目：2
}

Elapsed Time: 0.0.2
-- [1]188:set sql_dialect=tree
STRICT{
PASS
}
-- [1]189:insert into root.db.d6(time,s10)values(10000,911.4)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]190:insert into root.db.d6(time,s10)values(20000,999.4)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]191:set sql_dialect=table
STRICT{
PASS
}
-- [1]192:use db
STRICT{
PASS
}

-- [1]193:select * from v1 where device_id='d6'
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d6                     |911.4            |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d6                     |999.4            |
00+08:00             |                       |                 |
总数目：2
}

Elapsed Time: 0.0.3
-- [1]195:set sql_dialect=tree
STRICT{
PASS
}
-- [1]196:delete from root.db.d6.s10 where time=10000
STRICT{
0
}

Elapsed Time: 0.0.2

-- [1]197:select * from root.db.d6
STRICT{
Time(TIMESTAMP)      |root.db.d6.s10(DOUBLE)      |
-------------------------------------------------
20000                |999.4                       |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]198:set sql_dialect=table
STRICT{
PASS
}
-- [1]199:use db
STRICT{
PASS
}

-- [1]200:select * from v1 where device_id='d6'
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d6                     |999.4            |
00+08:00             |                       |                 |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]201:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
7                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]202:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
d6                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：7
}

Elapsed Time: 0.0.1

-- [1]203:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
7                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]205:set sql_dialect=tree
STRICT{
PASS
}
-- [1]206:delete from root.db.d6.s10 where time=10000
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]207:select * from root.db.d6
STRICT{
Time(TIMESTAMP)      |root.db.d6.s10(DOUBLE)      |
-------------------------------------------------
20000                |999.4                       |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]208:delete timeseries root.db.d6.s10
STRICT{
0
}

Elapsed Time: 0.0.22

-- [1]209:select * from root.db.d6
STRICT{
Time(TIMESTAMP)      |
总数目：0
}

Elapsed Time: 0.0.2
-- [1]210:set sql_dialect=table
STRICT{
PASS
}
-- [1]211:use db
STRICT{
PASS
}

-- [1]212:select * from v1 where device_id='d6'
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.2

-- [1]213:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]214:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]215:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]216:flush
STRICT{
PASS
}

-- [1]217:select * from v1 where device_id='d6'
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.3

-- [1]218:select count(*) from v1
STRICT{
_col0(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]219:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]220:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]222:set sql_dialect=tree
STRICT{
PASS
}
-- [1]223:alter timeseries root.db.对齐d3.s10 add tags tag=addtag
STRICT{
PASS
}
-- [1]224:set sql_dialect=table
STRICT{
PASS
}
-- [1]225:use db
STRICT{
PASS
}

-- [1]226:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]227:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]228:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]229:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]230:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]232:set sql_dialect=tree
STRICT{
PASS
}
-- [1]233:alter timeseries root.db.对齐d3.s10 UPSERT ALIAS=newAlias TAGS(tag2=newV2, tag3=v3) ATTRIBUTES(attr3=v3, attr4=v4)
STRICT{
PASS
}
-- [1]234:set sql_dialect=table
STRICT{
PASS
}
-- [1]235:use db
STRICT{
PASS
}

-- [1]236:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]237:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]238:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d1                     |1                 |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
-----------------------------------------
对齐d3                   |1                 |
总数目：4
}

Elapsed Time: 0.0.7

-- [1]239:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]240:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.1

-- [1]241:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]242:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"s10|
                |" DOUBLE FIELD) WITH (|
                |ttl='INF') AS root."db|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]244:set sql_dialect=tree
STRICT{
PASS
}
-- [1]245:insert into root.db.d1(time,s10)values(now()-1d,3.14)
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]246:select count(s10) from root.db.d1
STRICT{
count(root.db.d1.s10)(INT64)      |
----------------------------------
2                                 |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]247:set ttl to root.db.d1 3600000
STRICT{
PASS
}
-- [1]248:set sql_dialect=table
STRICT{
PASS
}
-- [1]249:use db
STRICT{
PASS
}

-- [1]250:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]251:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]252:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]253:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d1                     |1                 |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
-----------------------------------------
对齐d3                   |1                 |
总数目：4
}

Elapsed Time: 0.0.6

-- [1]254:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]255:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.0

-- [1]256:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]258:set sql_dialect=tree
STRICT{
PASS
}
-- [1]259:insert into root.db.d3(time,s10)values(now()-1d,3.14)
STRICT{
0
}

Elapsed Time: 0.0.3
-- [1]261:set ttl to root.db 1000
STRICT{
PASS
}
-- [1]262:set sql_dialect=table
STRICT{
PASS
}
-- [1]263:use db
STRICT{
PASS
}

-- [1]264:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]265:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]266:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
1                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]267:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d1                     |1                 |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]268:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.6

-- [1]269:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d5                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：6
}

Elapsed Time: 0.0.0

-- [1]270:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
6                          |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]273:set sql_dialect=tree
STRICT{
PASS
}
-- [1]274:delete timeseries root.db.**
STRICT{
0
}

Elapsed Time: 0.0.32
-- [1]275:set sql_dialect=table
STRICT{
PASS
}
-- [1]276:use db
STRICT{
PASS
}

-- [1]277:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]278:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]279:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]280:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.5

-- [1]281:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.6

-- [1]282:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
d3                     |
总数目：2
}

Elapsed Time: 0.0.1

-- [1]283:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
2                          |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]285:set sql_dialect=tree
STRICT{
PASS
}
-- [1]286:drop database root.db
STRICT{
PASS
}
-- [1]287:set sql_dialect=table
STRICT{
PASS
}
-- [1]288:use db
STRICT{
PASS
}

-- [1]289:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]290:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]291:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.3

-- [1]292:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.3

-- [1]293:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.4

-- [1]294:show devices from v1
STRICT{
device_id(STRING)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]295:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]298:set sql_dialect=tree
STRICT{
PASS
}
-- [1]309:create database root.db
STRICT{
PASS
}
-- [1]310:create aligned timeseries root.db.d2(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]311:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(10000,0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.1.556
-- [1]312:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(20000,1102,31,42,53,46,57,68,79,80,91,1111.11)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]313:create aligned timeseries root.db.对齐d3(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]314:insert into root.db.对齐d3(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(30000,0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.2.10
-- [1]318:CREATE DEVICE TEMPLATE t1(     c0 FLOAT encoding=RLE compression=SNAPPY,     c1 FLOAT encoding=RLE compression=SNAPPY,     s10 blob  compression=SNAPPY,     c3 text  compression=SNAPPY )
STRICT{
PASS
}
-- [1]324:CREATE DEVICE TEMPLATE t2 aligned(     c0 FLOAT encoding=RLE compression=SNAPPY,     c1 FLOAT encoding=RLE compression=SNAPPY,     c2 blob  compression=SNAPPY,     s10 text  compression=SNAPPY )
STRICT{
PASS
}
-- [1]329:set device template t1 to root.db.d3
STRICT{
PASS
}
-- [1]330:set device template t2 to root.db.d4
STRICT{
PASS
}
-- [1]331:create timeseries root.db.d1.s0 double
STRICT{
PASS
}
-- [1]332:create timeseries root.db.d1.s1 double
STRICT{
PASS
}
-- [1]333:create timeseries root.db.d1.s2 double
STRICT{
PASS
}
-- [1]334:create timeseries root.db.d1.s3 double
STRICT{
PASS
}
-- [1]335:create timeseries root.db.d1.s4 double
STRICT{
PASS
}
-- [1]336:create timeseries root.db.d1.s5 double
STRICT{
PASS
}
-- [1]337:create timeseries root.db.d1.s6 double
STRICT{
PASS
}
-- [1]338:create timeseries root.db.d1.s7 double
STRICT{
PASS
}
-- [1]339:create timeseries root.db.d1.s8 double
STRICT{
PASS
}
-- [1]340:create timeseries root.db.d1.s9 double
STRICT{
PASS
}
-- [1]341:create timeseries root.db.d1.s10 double
STRICT{
PASS
}
-- [1]342:insert into root.db.d1(time,s1) values(1751959383000,1)
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]343:insert into root.db.d1(time,s2) values(1751959384000,2222)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]344:insert into root.db.d1(time,s2) values(1751959385000,2)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]345:insert into root.db.d1(time,s3) values(1751959386000,3)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]346:insert into root.db.d1(time,s4) values(1751959387000,4)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]347:insert into root.db.d1(time,s5) values(1751959388000,5)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]348:insert into root.db.d1(time,s6) values(1751959389000,6)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]349:insert into root.db.d1(time,s7) values(1751959382000,7)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]350:insert into root.db.d1(time,s8) values(1751959381000,8)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]351:insert into root.db.d1(time,s9) values(1751959380000,9)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]352:insert into root.db.d1(time,s10) values(1751959373000,10)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]353:insert into root.db.d3(time,c0,c1,s10,c3) values(1751959363000,0,1,X'd3','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]354:insert into root.db.d3(time,c0,c1,s10,c3) values(1751959383000,0,1,X'd3','d3 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]355:insert into root.db.d4(time,c0,c1,c2,s10) aligned values(1751959383000,110,2,X'd4','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]356:insert into root.db.d4(time,c0,c1,c2,s10) aligned values(1751959384000,110,2,X'd4','d4 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]357:select * from root.db.** align by device
STRICT{
SQLSTATE : 701: ALIGN BY DEVICE: the data types of the same measurement column should be the same across devices.
}
-- [1]358:set sql_dialect=table
STRICT{
PASS
}
-- [1]359:use db
STRICT{
PASS
}

-- [1]360:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]361:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.7

-- [1]362:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]363:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d1                     |1                 |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
-----------------------------------------
对齐d3                   |1                 |
总数目：4
}

Elapsed Time: 0.0.6

-- [1]364:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]365:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]366:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]367:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |1111.11          |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:22:53.0|d1                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:04.0|d4                     |null             |
00+08:00             |                       |                 |
总数目：6
}

Elapsed Time: 0.0.7
-- [1]368:create or replace view v1(device_id string tag ,s10  double field) as root.db.**
STRICT{
PASS
}

-- [1]369:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |1111.11          |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:22:53.0|d1                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:04.0|d4                     |null             |
00+08:00             |                       |                 |
总数目：6
}

Elapsed Time: 0.0.5

-- [1]370:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]371:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]372:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.5

-- [1]373:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d1                     |1                 |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
-----------------------------------------
对齐d3                   |1                 |
总数目：4
}

Elapsed Time: 0.0.5

-- [1]374:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
总数目：2
}

Elapsed Time: 0.0.6

-- [1]375:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.0

-- [1]376:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]378:set sql_dialect=tree
STRICT{
PASS
}
-- [1]379:deactivate device template t1 from root.db.d3
STRICT{
PASS
}
-- [1]380:deactivate device template t2 from root.db.d4
STRICT{
PASS
}
-- [1]381:unset device template t1 from root.db.d3
STRICT{
PASS
}
-- [1]382:unset device template t2 from root.db.d4
STRICT{
PASS
}
-- [1]383:drop device template t1
STRICT{
PASS
}
-- [1]384:drop device template t2
STRICT{
PASS
}
-- [1]385:insert into root.db.d3(time,c0,c1,s10,c3) values(1751959363000,0,1,X'd3','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.4
-- [1]386:insert into root.db.d3(time,c0,c1,s10,c3) values(1751959383000,0,1,X'd3','d3 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]387:insert into root.db.d4(time,c0,c1,c2,s10) aligned values(1751959383000,110,2,X'd4','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.4
-- [1]388:insert into root.db.d4(time,c0,c1,c2,s10) aligned values(1751959384000,110,2,X'd4','d4 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]389:set sql_dialect=table
STRICT{
PASS
}
-- [1]390:use db
STRICT{
PASS
}

-- [1]391:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]392:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
1               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]393:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
6                 |
总数目：1
}

Elapsed Time: 0.0.6

-- [1]394:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d1                     |1                 |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
-----------------------------------------
对齐d3                   |1                 |
总数目：4
}

Elapsed Time: 0.0.5

-- [1]395:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
-----------------------------------------
d2                     |2                 |
-----------------------------------------
d4                     |2                 |
总数目：2
}

Elapsed Time: 0.0.6

-- [1]396:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]397:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]398:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |1111.11          |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:22:53.0|d1                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:04.0|d4                     |null             |
00+08:00             |                       |                 |
总数目：6
}

Elapsed Time: 0.0.3
-- [1]399:create or replace view v1(device_id string tag ,s10  double field) as root.db.**
STRICT{
PASS
}

-- [1]400:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |1111.11          |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:22:53.0|d1                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:04.0|d4                     |null             |
00+08:00             |                       |                 |
总数目：6
}

Elapsed Time: 0.0.5
-- [1]401:set sql_dialect=tree
STRICT{
PASS
}
-- [1]402:drop database root.db
STRICT{
PASS
}
-- [1]403:set sql_dialect=table
STRICT{
PASS
}
-- [1]404:use db
STRICT{
PASS
}

-- [1]405:select count(*) as tag from v1 where device_id='对齐d3'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]406:select count(*) as tag from v1 where device_id like '%d1%'
STRICT{
tag(INT64)      |
----------------
0               |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]407:select count(*) as count from v1
STRICT{
count(INT64)      |
------------------
0                 |
总数目：1
}

Elapsed Time: 0.0.3

-- [1]408:select device_id,count(*) as count from v1 group by device_id order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.4

-- [1]409:select device_id,count(*) as count from v1 group by device_id having count(*)>1 order by device_id
STRICT{
device_id(STRING)      |count(INT64)      |
总数目：0
}

Elapsed Time: 0.0.4

-- [1]410:show devices from v1
STRICT{
device_id(STRING)      |
总数目：0
}

Elapsed Time: 0.0.1

-- [1]411:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
0                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]412:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.1
-- [1]413:create or replace view v1(device_id string tag ,s10  double field) as root.db.**
STRICT{
PASS
}

-- [1]414:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.2
-- [1]415:drop view v1
STRICT{
PASS
}
-- [1]416:show create view v1
STRICT{
SQLSTATE : 550: Table 'db.v1' does not exist.
}
-- [1]417:select * from v1 order by time
STRICT{
SQLSTATE : 550: Table 'db.v1' does not exist.
}
-- [1]418:drop database db
STRICT{
PASS
}
-- [1]421:set sql_dialect=tree
STRICT{
PASS
}
-- [1]433:create database root.db
STRICT{
PASS
}
-- [1]434:create aligned timeseries root.db.d2(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]435:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(10000,0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.1.907
-- [1]436:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(20000,1102,31,42,53,46,57,68,79,80,91,1111.11)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]437:create aligned timeseries root.db.对齐d3(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]438:insert into root.db.对齐d3(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(30000,0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.0.49
-- [1]440:create timeseries root.db.d1.s0 double
STRICT{
PASS
}
-- [1]441:create timeseries root.db.d1.s1 double
STRICT{
PASS
}
-- [1]442:create timeseries root.db.d1.s2 double
STRICT{
PASS
}
-- [1]443:create timeseries root.db.d1.s3 double
STRICT{
PASS
}
-- [1]444:create timeseries root.db.d1.s4 double
STRICT{
PASS
}
-- [1]445:create timeseries root.db.d1.s5 double
STRICT{
PASS
}
-- [1]446:create timeseries root.db.d1.s6 double
STRICT{
PASS
}
-- [1]447:create timeseries root.db.d1.s7 double
STRICT{
PASS
}
-- [1]448:create timeseries root.db.d1.s8 double
STRICT{
PASS
}
-- [1]449:create timeseries root.db.d1.s9 double
STRICT{
PASS
}
-- [1]450:create timeseries root.db.d1.s10 double
STRICT{
PASS
}
-- [1]451:insert into root.db.d1(time,s1) values(1751959383000,1)
STRICT{
0
}

Elapsed Time: 0.1.7
-- [1]452:insert into root.db.d1(time,s2) values(1751959384000,2222)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]453:insert into root.db.d1(time,s2) values(1751959385000,2)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]454:insert into root.db.d1(time,s3) values(1751959386000,3)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]455:insert into root.db.d1(time,s4) values(1751959387000,4)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]456:insert into root.db.d1(time,s5) values(1751959388000,5)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]457:insert into root.db.d1(time,s6) values(1751959389000,6)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]458:insert into root.db.d1(time,s7) values(1751959382000,7)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]459:insert into root.db.d1(time,s8) values(1751959381000,8)
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]460:insert into root.db.d1(time,s9) values(1751959380000,9)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]461:insert into root.db.d1(time,s10) values(1751959373000,10)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]462:insert into root.db.d3(time,c0,c1,s10,c3) values(1751959363000,0,1,X'd3','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.7
-- [1]463:insert into root.db.d3(time,c0,c1,s10,c3) values(1751959383000,0,1,X'd3','d3 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.2
-- [1]464:insert into root.db.d4(time,c0,c1,c2,s10) aligned values(1751959383000,110,2,X'd4','3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]465:insert into root.db.d4(time,c0,c1,c2,s10) aligned values(1751959384000,110,2,X'd4','d4 before ttl time')
STRICT{
0
}

Elapsed Time: 0.0.1

-- [1]466:select s10 from root.db.**
STRICT{
Time(TIMESTAMP)      |root.db.d4.s10(TEXT)      |root.db.对齐d3.s10(DOUBLE)      |root.db.d1.s10(DOUBLE)      |root.db.d2.s10(DOUBLE)      |root.db.d3.s10(BLOB)      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
10000                |null                      |null                          |null                        |10.0                        |null                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
20000                |null                      |null                          |null                        |1111.11                     |null                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
30000                |null                      |10.0                          |null                        |null                        |null                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
1751959363000        |null                      |null                          |null                        |null                        |0xd3                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
1751959373000        |null                      |null                          |10.0                        |null                        |null                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
1751959383000        |3,4,5,6,7,8,9,10          |null                          |null                        |null                        |0xd3                      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------
1751959384000        |d4 before ttl time        |null                          |null                        |null                        |null                      |
总数目：7
}

Elapsed Time: 0.0.5
-- [1]467:set sql_dialect=table
STRICT{
PASS
}
-- [1]469:create database db
STRICT{
PASS
}
-- [1]470:use db
STRICT{
PASS
}
-- [1]471:create or replace view v1(device_id string tag ,s10  double field) as root.db.**
STRICT{
PASS
}

-- [1]472:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |1111.11          |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:22:53.0|d1                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:04.0|d4                     |null             |
00+08:00             |                       |                 |
总数目：6
}

Elapsed Time: 0.0.8
-- [1]473:flush
STRICT{
PASS
}

-- [1]474:select * from v1 order by time
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
-------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |1111.11          |
00+08:00             |                       |                 |
-------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:22:53.0|d1                     |10.0             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null             |
00+08:00             |                       |                 |
-------------------------------------------------------------
2025-07-08T15:23:04.0|d4                     |null             |
00+08:00             |                       |                 |
总数目：6
}

Elapsed Time: 0.0.5
-- [1]475:set sql_dialect=tree
STRICT{
PASS
}
-- [1]476:drop database root.db
STRICT{
PASS
}
-- [1]477:set sql_dialect=table
STRICT{
PASS
}
-- [1]478:use db
STRICT{
PASS
}
-- [1]479:drop view v1
STRICT{
PASS
}
-- [1]480:drop database db
STRICT{
PASS
}
-- [1]482:set sql_dialect=tree
STRICT{
PASS
}
-- [1]495:create database root.db
STRICT{
PASS
}
-- [1]496:create aligned timeseries root.db.d2(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]497:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(10000,0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.1.989
-- [1]498:insert into root.db.d2(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(20000,1102,31,42,53,46,57,68,79,80,91,1111.11)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]499:create aligned timeseries root.db.对齐d3(s0 double ,s1 double ,s2 double ,s3 double ,s4 double ,s5 double ,s6 double ,s7 double ,s8 double ,s9 double ,s10 double)
STRICT{
PASS
}
-- [1]500:insert into root.db.对齐d3(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10) values(30000,0,1,2,3,4,5,6,7,8,9,10)
STRICT{
0
}

Elapsed Time: 0.1.974
-- [1]504:CREATE DEVICE TEMPLATE t1(     s0  text,     s1  text,     s2 int64 ,     s3 int32 ,     s4 boolean ,     s5 timestamp ,     s6 string,     s7 text,     s8 float,     s9 date,     c1 FLOAT encoding=RLE compression=SNAPPY,     s10 blob  compression=SNAPPY,     c3 text  compression=SNAPPY )
STRICT{
PASS
}
-- [1]519:CREATE DEVICE TEMPLATE t2 aligned(     s0 blob ,     s1 blob ,     s2 int64 ,     s3 int32 ,     s4 boolean ,     s5 timestamp ,     s6 string,     s7 text,     s8 float,     s9 date,     c2 blob ,     s10 text  compression=SNAPPY )
STRICT{
PASS
}
-- [1]532:set device template t1 to root.db.d3
STRICT{
PASS
}
-- [1]533:set device template t2 to root.db.d4
STRICT{
PASS
}
-- [1]534:create timeseries root.db.d1.s0 double
STRICT{
PASS
}
-- [1]535:create timeseries root.db.d1.s1 double
STRICT{
PASS
}
-- [1]536:create timeseries root.db.d1.s2 double
STRICT{
PASS
}
-- [1]537:create timeseries root.db.d1.s3 double
STRICT{
PASS
}
-- [1]538:create timeseries root.db.d1.s4 double
STRICT{
PASS
}
-- [1]539:create timeseries root.db.d1.s5 double
STRICT{
PASS
}
-- [1]540:create timeseries root.db.d1.s6 double
STRICT{
PASS
}
-- [1]541:create timeseries root.db.d1.s7 double
STRICT{
PASS
}
-- [1]542:create timeseries root.db.d1.s8 double
STRICT{
PASS
}
-- [1]543:create timeseries root.db.d1.s9 double
STRICT{
PASS
}
-- [1]544:create timeseries root.db.d1.s10 double
STRICT{
PASS
}
-- [1]545:insert into root.db.d1(time,s1) values(1751959383000,1)
STRICT{
0
}

Elapsed Time: 0.0.869
-- [1]546:insert into root.db.d1(time,s2) values(1751959384000,2222)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]547:insert into root.db.d1(time,s2) values(1751959385000,2)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]548:insert into root.db.d1(time,s3) values(1751959386000,3)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]549:insert into root.db.d1(time,s4) values(1751959387000,4)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]550:insert into root.db.d1(time,s5) values(1751959388000,5)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]551:insert into root.db.d1(time,s6) values(1751959389000,6)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]552:insert into root.db.d1(time,s7) values(1751959382000,7)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]553:insert into root.db.d1(time,s8) values(1751959381000,8)
STRICT{
0
}

Elapsed Time: 0.0.0
-- [1]554:insert into root.db.d1(time,s9) values(1751959380000,9)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]555:insert into root.db.d1(time,s10) values(1751959373000,10)
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]556:insert into root.db.d3(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,c1,c3) values(1751959363000,'hi','lucy',121,231,true,now(),'string timeseries','text timeseries',2.34,'2025-07-08',X'd3',3.14,'c3:3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]557:insert into root.db.d3(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,c1,c3) values(1751959364000,'hello','lily',221,231,false,now()+1d,'string timeseries row 2','text timeseries row 2',5.34,'2025-07-08',X'd31234',4.14,'c3:3,4,5,6,7,8,9,10 row2')
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]558:insert into root.db.d4(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,c2,s10) aligned values(1751959383000,X'bcad',X'ABCD',110,220,true,now(),'d4 string timeseries row 1','d4 text timeseries',2.34,'2025-07-08',X'd4','s10 text 3,4,5,6,7,8,9,10')
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]559:insert into root.db.d4(time,s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,c2,s10) aligned values(1751959382000,X'bcad0123',X'ABCD',110,220,false,now()-8d,'d4 string timeseries row 2','d4 text timeseries row 2',3.34,'2025-07-05',X'd4','s10 text 3,4,5,6,7,8,9,10 row 2')
STRICT{
0
}

Elapsed Time: 0.0.1
-- [1]560:select * from root.db.** align by device
STRICT{
SQLSTATE : 701: ALIGN BY DEVICE: the data types of the same measurement column should be the same across devices.
}
-- [1]561:set sql_dialect=table
STRICT{
PASS
}
-- [1]563:create database db
STRICT{
PASS
}
-- [1]564:use db
STRICT{
PASS
}
-- [1]566:create or replace view v1(device_id string tag ,s10  double field from orig_not_exit) as root.db.**
STRICT{
PASS
}

-- [1]567:select device_id,s10 from v1 order by time,device_id
STRICT{
device_id(STRING)      |s10(DOUBLE)      |
----------------------------------------
d2                     |null             |
----------------------------------------
d2                     |null             |
----------------------------------------
对齐d3                   |null             |
----------------------------------------
d4                     |null             |
----------------------------------------
d4                     |null             |
总数目：5
}

Elapsed Time: 0.0.8

-- [1]568:select * from v1 where s10 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.4
-- [1]569:flush
STRICT{
PASS
}

-- [1]570:select device_id,s10 from v1 order by time,device_id
STRICT{
device_id(STRING)      |s10(DOUBLE)      |
----------------------------------------
d2                     |null             |
----------------------------------------
d2                     |null             |
----------------------------------------
对齐d3                   |null             |
----------------------------------------
d4                     |null             |
----------------------------------------
d4                     |null             |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]571:select * from v1 where s10 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.4
-- [1]573:create or replace view v1(device_id string tag ,s10  double field from c1) as root.db.**
STRICT{
PASS
}

-- [1]574:select device_id,s10 from v1 order by time,device_id
STRICT{
device_id(STRING)      |s10(DOUBLE)      |
----------------------------------------
d2                     |null             |
----------------------------------------
d2                     |null             |
----------------------------------------
对齐d3                   |null             |
----------------------------------------
d4                     |null             |
----------------------------------------
d4                     |null             |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]575:select * from v1 where s10 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(DOUBLE)      |
总数目：0
}

Elapsed Time: 0.0.5
-- [1]576:create or replace view v1(device_id string tag ,s10  blob field from c1) as root.db.**
STRICT{
PASS
}

-- [1]577:select device_id,s10 from v1 order by time,device_id
STRICT{
device_id(STRING)      |s10(BLOB)      |
--------------------------------------
d2                     |null           |
--------------------------------------
d2                     |null           |
--------------------------------------
对齐d3                   |null           |
--------------------------------------
d4                     |null           |
--------------------------------------
d4                     |null           |
总数目：5
}

Elapsed Time: 0.0.6

-- [1]578:select * from v1 where s10 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.4
-- [1]579:create or replace view v1(device_id string tag ,s10  float field from c1) as root.db.**
STRICT{
PASS
}

-- [1]580:select * from v1 order by time,device_id
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(FLOAT)      |
------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |null            |
00+08:00             |                       |                |
------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |null            |
00+08:00             |                       |                |
------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |null            |
00+08:00             |                       |                |
------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14            |
00+08:00             |                       |                |
------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14            |
00+08:00             |                       |                |
------------------------------------------------------------
2025-07-08T15:23:02.0|d4                     |null            |
00+08:00             |                       |                |
------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null            |
00+08:00             |                       |                |
总数目：7
}

Elapsed Time: 0.0.5

-- [1]581:select * from v1 where s10 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |s10(FLOAT)      |
------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14            |
00+08:00             |                       |                |
------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14            |
00+08:00             |                       |                |
总数目：2
}

Elapsed Time: 0.0.5
-- [1]582:create or replace view v1(device_id string tag ,c1  float field from c1) as root.db.**
STRICT{
PASS
}

-- [1]583:select device_id,c1 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1(FLOAT)      |
--------------------------------------
d2                     |null           |
--------------------------------------
d2                     |null           |
--------------------------------------
对齐d3                   |null           |
--------------------------------------
d3                     |3.14           |
--------------------------------------
d3                     |4.14           |
--------------------------------------
d4                     |null           |
--------------------------------------
d4                     |null           |
总数目：7
}

Elapsed Time: 0.0.5

-- [1]584:select * from v1 where c1 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(FLOAT)      |
-----------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14           |
00+08:00             |                       |               |
-----------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14           |
00+08:00             |                       |               |
总数目：2
}

Elapsed Time: 0.0.4
-- [1]586:create or replace view v1(device_id string tag ,c1 field from c1) as root.db.**
STRICT{
SQLSTATE : 701: Unknown type: field
}

-- [1]587:select device_id,c1 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1(FLOAT)      |
--------------------------------------
d2                     |null           |
--------------------------------------
d2                     |null           |
--------------------------------------
对齐d3                   |null           |
--------------------------------------
d3                     |3.14           |
--------------------------------------
d3                     |4.14           |
--------------------------------------
d4                     |null           |
--------------------------------------
d4                     |null           |
总数目：7
}

Elapsed Time: 0.0.4

-- [1]588:select * from v1 where c1 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(FLOAT)      |
-----------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14           |
00+08:00             |                       |               |
-----------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14           |
00+08:00             |                       |               |
总数目：2
}

Elapsed Time: 0.0.4
-- [1]589:create or replace view v1(device_id string tag ,c1_not_same field from c1) as root.db.**
STRICT{
SQLSTATE : 701: Unknown type: field
}
-- [1]590:create or replace view v1(device_id string tag ,c1_not_same float from c1) as root.db.**
STRICT{
PASS
}

-- [1]591:select device_id,c1_not_same from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_not_same(FLOAT)      |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
对齐d3                   |null                    |
-----------------------------------------------
d3                     |3.14                    |
-----------------------------------------------
d3                     |4.14                    |
-----------------------------------------------
d4                     |null                    |
-----------------------------------------------
d4                     |null                    |
总数目：7
}

Elapsed Time: 0.0.5

-- [1]592:select * from v1 where c1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(FLOAT)      |
--------------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14                    |
00+08:00             |                       |                        |
--------------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14                    |
00+08:00             |                       |                        |
总数目：2
}

Elapsed Time: 0.0.5
-- [1]593:create or replace view v1(device_id string tag ,field from c1) as root.db.**
STRICT{
PASS
}

-- [1]594:select device_id,field from v1 order by time,device_id
STRICT{
device_id(STRING)      |field(FLOAT)      |
-----------------------------------------
d2                     |null              |
-----------------------------------------
d2                     |null              |
-----------------------------------------
对齐d3                   |null              |
-----------------------------------------
d3                     |3.14              |
-----------------------------------------
d3                     |4.14              |
-----------------------------------------
d4                     |null              |
-----------------------------------------
d4                     |null              |
总数目：7
}

Elapsed Time: 0.0.6
-- [1]595:select * from v1 where c1 is not null
STRICT{
SQLSTATE : 616: Column 'c1' cannot be resolved
}
-- [1]597:select * from v1 where c1_not_same is not null
STRICT{
SQLSTATE : 616: Column 'c1_not_same' cannot be resolved
}
-- [1]599:create or replace view v1(device_id string tag ,c1 blob from c1) as root.db.**
STRICT{
PASS
}

-- [1]600:select device_id,c1 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1(BLOB)      |
-------------------------------------
d2                     |null          |
-------------------------------------
d2                     |null          |
-------------------------------------
对齐d3                   |null          |
-------------------------------------
d4                     |null          |
-------------------------------------
d4                     |null          |
总数目：5
}

Elapsed Time: 0.0.6

-- [1]601:select * from v1 where c1 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.4
-- [1]603:create or replace view v1(device_id string tag ,c1,c2,c3 float field from c1) as root.db.**
STRICT{
SQLSTATE : 700: line 1:51: mismatched input ','. Expecting: 'FIELD', 'FROM', 'TAG', 'TIME', <type>
}
-- [1]604:create or replace view v1(device_id string tag ,c1 from c1,c2 field from c1,c3 float from c1,c4 float field from c1) as root.db.**
STRICT{
SQLSTATE : 701: Unknown type: field
}

-- [1]605:select device_id,c1 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1(BLOB)      |
-------------------------------------
d2                     |null          |
-------------------------------------
d2                     |null          |
-------------------------------------
对齐d3                   |null          |
-------------------------------------
d4                     |null          |
-------------------------------------
d4                     |null          |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]606:select * from v1 where c1 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.4

-- [1]607:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1"|
                | BLOB FIELD FROM "c1")|
                | WITH (ttl='INF') AS r|
                |oot."db".**            |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]608:create or replace view v1(device_id string tag ,c1 from c1,c2 float field from c1,c3 float from c1,c4 float field from c1) as root.db.**
STRICT{
SQLSTATE : 701: The duplicated source measurement c1 is unsupported yet.
}

-- [1]609:select * from v1 order by time,device_id
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(BLOB)      |
----------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |null          |
00+08:00             |                       |              |
----------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |null          |
00+08:00             |                       |              |
----------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |null          |
00+08:00             |                       |              |
----------------------------------------------------------
2025-07-08T15:23:02.0|d4                     |null          |
00+08:00             |                       |              |
----------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null          |
00+08:00             |                       |              |
总数目：5
}

Elapsed Time: 0.0.10

-- [1]610:select * from v1 where c1 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.5

-- [1]611:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1"|
                | BLOB FIELD FROM "c1")|
                | WITH (ttl='INF') AS r|
                |oot."db".**            |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]612:create or replace view v1(device_id string tag ,from c1) as root.db.**
STRICT{
SQLSTATE : 700: line 1:49: mismatched input 'from'. Expecting: <identifier>
}

-- [1]613:select device_id,c1 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1(BLOB)      |
-------------------------------------
d2                     |null          |
-------------------------------------
d2                     |null          |
-------------------------------------
对齐d3                   |null          |
-------------------------------------
d4                     |null          |
-------------------------------------
d4                     |null          |
总数目：5
}

Elapsed Time: 0.0.4

-- [1]614:select * from v1 where c1 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.19

-- [1]615:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1"|
                | BLOB FIELD FROM "c1")|
                | WITH (ttl='INF') AS r|
                |oot."db".**            |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]616:create or replace view v1(device_id string tag ,c1_not_same from c1) as root.db.**
STRICT{
PASS
}
-- [1]617:select * from v1 where c1 is not null
STRICT{
SQLSTATE : 616: Column 'c1' cannot be resolved
}

-- [1]618:select * from v1 where c1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(FLOAT)      |
--------------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14                    |
00+08:00             |                       |                        |
--------------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14                    |
00+08:00             |                       |                        |
总数目：2
}

Elapsed Time: 0.0.5
-- [1]619:select * from v1 where c1_not_same is not null or c1 is not null
STRICT{
SQLSTATE : 616: Column 'c1' cannot be resolved
}

-- [1]620:select device_id,c1_not_same from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_not_same(FLOAT)      |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
对齐d3                   |null                    |
-----------------------------------------------
d3                     |3.14                    |
-----------------------------------------------
d3                     |4.14                    |
-----------------------------------------------
d4                     |null                    |
-----------------------------------------------
d4                     |null                    |
总数目：7
}

Elapsed Time: 0.0.7

-- [1]621:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" FLOAT FIELD |
                |FROM "c1") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]622:create or replace view v1(device_id string tag ,c1_Not_Same from C1) as root.db.**
STRICT{
SQLSTATE : 528: Measurements not found for C1, cannot auto detect
}

-- [1]623:select * from v1 where c1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(FLOAT)      |
--------------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14                    |
00+08:00             |                       |                        |
--------------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14                    |
00+08:00             |                       |                        |
总数目：2
}

Elapsed Time: 0.0.10

-- [1]624:select device_id,c1_not_same from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_not_same(FLOAT)      |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
对齐d3                   |null                    |
-----------------------------------------------
d3                     |3.14                    |
-----------------------------------------------
d3                     |4.14                    |
-----------------------------------------------
d4                     |null                    |
-----------------------------------------------
d4                     |null                    |
总数目：7
}

Elapsed Time: 0.0.7

-- [1]625:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" FLOAT FIELD |
                |FROM "c1") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.3
-- [1]626:create or replace view v1(device_id string tag ,c1_Not_Same from c1) as root.db.**
STRICT{
PASS
}

-- [1]627:select * from v1 where c1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(FLOAT)      |
--------------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14                    |
00+08:00             |                       |                        |
--------------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14                    |
00+08:00             |                       |                        |
总数目：2
}

Elapsed Time: 0.0.4

-- [1]628:select * from v1 where C1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(FLOAT)      |
--------------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14                    |
00+08:00             |                       |                        |
--------------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14                    |
00+08:00             |                       |                        |
总数目：2
}

Elapsed Time: 0.0.4

-- [1]629:select * from v1 where c1_Not_Same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(FLOAT)      |
--------------------------------------------------------------------
2025-07-08T15:22:43.0|d3                     |3.14                    |
00+08:00             |                       |                        |
--------------------------------------------------------------------
2025-07-08T15:22:44.0|d3                     |4.14                    |
00+08:00             |                       |                        |
总数目：2
}

Elapsed Time: 0.0.4

-- [1]630:select device_id,c1_Not_Same from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(FLOAT)      |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
d2                     |null                    |
-----------------------------------------------
对齐d3                   |null                    |
-----------------------------------------------
d3                     |3.14                    |
-----------------------------------------------
d3                     |4.14                    |
-----------------------------------------------
d4                     |null                    |
-----------------------------------------------
d4                     |null                    |
总数目：7
}

Elapsed Time: 0.0.4

-- [1]631:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" FLOAT FIELD |
                |FROM "c1") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]632:create or replace view v1(device_id string tag ,c1_Not_Same blob,C2 blob field) as root.db.**
STRICT{
PASS
}

-- [1]633:select * from v1 where c1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.5

-- [1]634:select * from v1 where C1_not_same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.4

-- [1]635:select * from v1 where c1_Not_Same is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.6

-- [1]636:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.4

-- [1]637:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2")|
                | WITH (ttl='INF') AS r|
                |oot."db".**            |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]638:set sql_dialect=tree
STRICT{
PASS
}
-- [1]639:insert into root.db.d3(time,C2) values(10000,X'abcd')
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]640:set sql_dialect=table
STRICT{
PASS
}
-- [1]641:use db
STRICT{
PASS
}

-- [1]642:select * from v1 where C2 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d3                     |null                   |0xabcd        |
00+08:00             |                       |                       |              |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]643:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d3                     |null                   |0xabcd        |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：6
}

Elapsed Time: 0.0.4

-- [1]644:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]645:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.2
-- [1]646:alter view v1 add column if not exists 'C2_相同测点' from C2
STRICT{
SQLSTATE : 700: line 1:40: mismatched input ''C2_相同测点''. Expecting: <identifier>
}

-- [1]647:select * from v1 where C2 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d3                     |null                   |0xabcd        |
00+08:00             |                       |                       |              |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]648:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d3                     |null                   |0xabcd        |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：6
}

Elapsed Time: 0.0.8
-- [1]649:alter view v1 add column if not exists 'C2_相同测点' from C2_not_exist
STRICT{
SQLSTATE : 700: line 1:40: mismatched input ''C2_相同测点''. Expecting: <identifier>
}

-- [1]650:select * from v1 where C2 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d3                     |null                   |0xabcd        |
00+08:00             |                       |                       |              |
总数目：1
}

Elapsed Time: 0.0.4

-- [1]651:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d3                     |null                   |0xabcd        |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：6
}

Elapsed Time: 0.0.4
-- [1]652:create or replace view v1(device_id string tag ,c1_Not_Same blob,C2 blob field from C2_NOT_EXIST) as root.db.**
STRICT{
PASS
}

-- [1]653:select * from v1 where C2 is not null
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
总数目：0
}

Elapsed Time: 0.0.4

-- [1]654:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]655:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]656:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]657:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]658:create or replace view v1(device_id string tag ) as root.db.**
STRICT{
SQLSTATE : 614: Multiple types encountered when auto detecting type of measurement 's1', please check
}

-- [1]659:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]660:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.0

-- [1]661:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]662:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]663:set sql_dialect=tree
STRICT{
PASS
}
-- [1]665:create database root.test
STRICT{
PASS
}
-- [1]666:insert into root.test.d1(time,c2) values(10000,'text')
STRICT{
0
}

Elapsed Time: 0.0.377
-- [1]667:insert into root.test.d1(time,C2) values(20000,123)
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]668:insert into root.test.d2(time,c2) aligned values(50000,123)
STRICT{
0
}

Elapsed Time: 0.0.65
-- [1]669:insert into root.test.d2(time,C2) aligned values(60000,'text')
STRICT{
0
}

Elapsed Time: 0.0.5
-- [1]670:set sql_dialect=table
STRICT{
PASS
}
-- [1]671:use db
STRICT{
PASS
}
-- [1]672:create or replace view v1(device_id string tag ) as root.test.**
STRICT{
SQLSTATE : 614: Multiple types encountered when auto detecting type of measurement 'c2', please check
}

-- [1]673:select * from v1 order by time,device_id
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d2                     |null                   |null          |
00+08:00             |                       |                       |              |
---------------------------------------------------------------------------------
1970-01-01T08:00:20.0|d2                     |null                   |null          |
00+08:00             |                       |                       |              |
---------------------------------------------------------------------------------
1970-01-01T08:00:30.0|对齐d3                   |null                   |null          |
00+08:00             |                       |                       |              |
---------------------------------------------------------------------------------
2025-07-08T15:23:02.0|d4                     |null                   |null          |
00+08:00             |                       |                       |              |
---------------------------------------------------------------------------------
2025-07-08T15:23:03.0|d4                     |null                   |null          |
00+08:00             |                       |                       |              |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]674:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]675:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]676:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]677:set sql_dialect=tree
STRICT{
PASS
}
-- [1]678:delete timeseries root.test.d2.**
STRICT{
0
}

Elapsed Time: 0.0.33
-- [1]679:set sql_dialect=table
STRICT{
PASS
}
-- [1]680:use db
STRICT{
PASS
}
-- [1]681:create or replace view v1(device_id string tag ) as root.test.**
STRICT{
SQLSTATE : 617: The measurements c2 and C2 share the same lower case when auto detecting type, please check
}

-- [1]682:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.6

-- [1]683:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]684:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]685:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]686:set sql_dialect=tree
STRICT{
PASS
}
-- [1]687:drop database root.test
STRICT{
PASS
}
-- [1]688:create database root.test
STRICT{
PASS
}
-- [1]689:insert into root.test.d1(time,c2) values(10000,'text')
STRICT{
0
}

Elapsed Time: 0.3.27
-- [1]690:insert into root.test.d2(time,c2) aligned values(50000,123)
STRICT{
0
}

Elapsed Time: 0.1.53
-- [1]691:set sql_dialect=table
STRICT{
PASS
}
-- [1]692:use db
STRICT{
PASS
}
-- [1]694:create or replace view v1(device_id string tag,c2 field from c2 ) as root.test.**
STRICT{
SQLSTATE : 701: Unknown type: field
}

-- [1]695:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.6

-- [1]696:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]697:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]698:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]700:create or replace view v1(device_id string tag,c2 field from c2_not_exist ) as root.test.**
STRICT{
SQLSTATE : 701: Unknown type: field
}

-- [1]701:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]702:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]703:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]704:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]706:create or replace view v1(device_id string tag,c2 field from c2) as root.test_not_exist.**
STRICT{
SQLSTATE : 701: Unknown type: field
}

-- [1]707:select device_id,c1_Not_Same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_Not_Same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.5

-- [1]708:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.0

-- [1]709:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.0

-- [1]710:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]711:set sql_dialect=tree
STRICT{
PASS
}
-- [1]712:delete timeseries  root.test.d2.**
STRICT{
0
}

Elapsed Time: 0.0.43
-- [1]714:set sql_dialect=table
STRICT{
PASS
}
-- [1]715:use db
STRICT{
PASS
}
-- [1]716:create or replace view v1(device_id string tag,c2 field from c2) as root.test.**
STRICT{
SQLSTATE : 701: Unknown type: field
}

-- [1]717:select device_id,c1_not_same,c2 from v1 order by time,device_id
STRICT{
device_id(STRING)      |c1_not_same(BLOB)      |c2(BLOB)      |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
d2                     |null                   |null          |
------------------------------------------------------------
对齐d3                   |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
------------------------------------------------------------
d4                     |null                   |null          |
总数目：5
}

Elapsed Time: 0.0.6

-- [1]718:show devices from v1
STRICT{
device_id(STRING)      |
-----------------------
d4                     |
-----------------------
对齐d3                   |
-----------------------
d1                     |
-----------------------
d2                     |
-----------------------
d3                     |
总数目：5
}

Elapsed Time: 0.0.1

-- [1]719:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
5                          |
总数目：1
}

Elapsed Time: 0.0.1

-- [1]720:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"c1_|
                |not_same" BLOB FIELD F|
                |ROM "c1_Not_Same","c2"|
                | BLOB FIELD FROM "C2_N|
                |OT_EXIST") WITH (ttl='|
                |INF') AS root."db".**  |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]721:create or replace view v1(device_id string tag,sensor_id string tag) as root.test.**
STRICT{
PASS
}

-- [1]722:select * from v1
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |sensor_id(STRING)      |c2(TEXT)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d1                     |null                   |text          |
00+08:00             |                       |                       |              |
总数目：1
}

Elapsed Time: 0.0.8

-- [1]723:show devices from v1
STRICT{
device_id(STRING)      |sensor_id(STRING)      |
----------------------------------------------
d1                     |null                   |
总数目：1
}

Elapsed Time: 0.0.3

-- [1]724:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
1                          |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]725:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"sen|
                |sor_id" STRING TAG,"c2|
                |" TEXT FIELD) WITH (tt|
                |l='INF') AS root."test|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]726:set sql_dialect=tree
STRICT{
PASS
}
-- [1]727:insert into root.test.d2.s1(time,c2)values(30000,4.5)
STRICT{
0
}

Elapsed Time: 0.0.6
-- [1]728:insert into root.test.d2.s2(time,c2)values(40000,'text')
STRICT{
0
}

Elapsed Time: 0.0.7
-- [1]729:set sql_dialect=table
STRICT{
PASS
}
-- [1]730:use db
STRICT{
PASS
}

-- [1]731:select * from v1 order by time,device_id
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |sensor_id(STRING)      |c2(TEXT)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d1                     |null                   |text          |
00+08:00             |                       |                       |              |
---------------------------------------------------------------------------------
1970-01-01T08:00:40.0|d2                     |s2                     |text          |
00+08:00             |                       |                       |              |
总数目：2
}

Elapsed Time: 0.0.7

-- [1]732:show devices from v1
STRICT{
device_id(STRING)      |sensor_id(STRING)      |
----------------------------------------------
d1                     |null                   |
----------------------------------------------
d2                     |s1                     |
----------------------------------------------
d2                     |s2                     |
总数目：3
}

Elapsed Time: 0.0.2

-- [1]733:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
3                          |
总数目：1
}

Elapsed Time: 0.0.2

-- [1]734:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"sen|
                |sor_id" STRING TAG,"c2|
                |" TEXT FIELD) WITH (tt|
                |l='INF') AS root."test|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.0
-- [1]735:create or replace view v1(device_id string tag,sensor_id string tag,sensor_sensor_id string tag,sensor_sensor_sensor_id string tag) as root.test.**
STRICT{
SQLSTATE : 614: Multiple types encountered when auto detecting type of measurement 'c2', please check
}

-- [1]736:select * from v1 order by time,device_id
STRICT{
time(TIMESTAMP)      |device_id(STRING)      |sensor_id(STRING)      |c2(TEXT)      |
---------------------------------------------------------------------------------
1970-01-01T08:00:10.0|d1                     |null                   |text          |
00+08:00             |                       |                       |              |
---------------------------------------------------------------------------------
1970-01-01T08:00:40.0|d2                     |s2                     |text          |
00+08:00             |                       |                       |              |
总数目：2
}

Elapsed Time: 0.0.6

-- [1]737:show devices from v1
STRICT{
device_id(STRING)      |sensor_id(STRING)      |
----------------------------------------------
d1                     |null                   |
----------------------------------------------
d2                     |s1                     |
----------------------------------------------
d2                     |s2                     |
总数目：3
}

Elapsed Time: 0.0.2

-- [1]738:count devices from v1
STRICT{
count(devices)(INT64)      |
---------------------------
3                          |
总数目：1
}

Elapsed Time: 0.0.3

-- [1]739:show create view v1
STRICT{
View(TEXT)      |Create View(TEXT)      |
---------------------------------------
v1              |CREATE VIEW "v1" ("devi|
                |ce_id" STRING TAG,"sen|
                |sor_id" STRING TAG,"c2|
                |" TEXT FIELD) WITH (tt|
                |l='INF') AS root."test|
                |".**                   |
总数目：1
}

Elapsed Time: 0.0.1
-- [1]740:drop database db
STRICT{
PASS
}
-- [1]741:set sql_dialect=tree
STRICT{
PASS
}
-- [1]742:drop database root.db
STRICT{
PASS
}
